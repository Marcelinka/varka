!function(){return function e(t,n,a){function o(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(r)return r(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n||e)},u,u.exports,e,t,n,a)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}}()({1:[function(e,t,n){var a,o;a=this,o=function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,n){"use strict";function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var o=n(2),r=n(0),i=n.n(r);t.a=function(e,t){var r=t.value;if((Array.isArray(r)||"string"==typeof r)&&(r={mask:r,tokens:i.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var s=e.getElementsByTagName("input");if(1!==s.length)throw new Error("v-mask directive requires 1 input, found "+s.length);e=s[0]}e.oninput=function(t){if(t.isTrusted){var i=e.selectionEnd,s=e.value[i-1];for(e.value=n.i(o.a)(e.value,r.mask,!0,r.tokens);i<e.value.length&&e.value.charAt(i-1)!==s;)i++;e===document.activeElement&&(e.setSelectionRange(i,i),setTimeout(function(){e.setSelectionRange(i,i)},0)),e.dispatchEvent(a("input"))}};var c=n.i(o.a)(e.value,r.mask,!0,r.tokens);c!==e.value&&(e.value=c,e.dispatchEvent(a("input")))}},function(e,t,n){"use strict";var a=n(6),o=n(5);t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return Array.isArray(t)?n.i(o.a)(a.a,t,i)(e,t,r,i):n.i(a.a)(e,t,r,i)}},function(e,t,n){"use strict";function a(e){e.component(c.a.name,c.a),e.directive("mask",i.a)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n.n(o),i=n(1),s=n(7),c=n.n(s);n.d(t,"TheMask",function(){return c.a}),n.d(t,"mask",function(){return i.a}),n.d(t,"tokens",function(){return r.a}),n.d(t,"version",function(){return l});var l="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(0),r=n.n(o),i=n(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return r.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e,(e=n.i(i.a)(e,this.mask,this.masked,this.tokens))!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,n){"use strict";t.a=function(e,t,n){return t=t.sort(function(e,t){return e.length-t.length}),function(a,o){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;i<t.length;){var s=t[i],c=t[++i];if(!(c&&e(a,c,!0,n).length>s.length))return e(a,s,r,n)}return""}}},function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var o=0,r=0,i="";o<t.length&&r<e.length;){var s=a[u=t[o]],c=e[r];s&&!s.escape?(s.pattern.test(c)&&(i+=s.transform?s.transform(c):c,o++),r++):(s&&s.escape&&(u=t[++o]),n&&(i+=u),c===u&&r++,o++)}for(var l="";o<t.length&&n;){var u;if(a[u=t[o]]){l="";break}l+=u,o++}return i+l}},function(e,t,n){var a=n(8)(n(4),n(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,n,a){var o,r=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(o=e,r=e.default);var s="function"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),a){var c=s.computed||(s.computed={});Object.keys(a).forEach(function(e){var t=a[e];c[e]=function(){return t}})}return{esModule:o,exports:r,options:s}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])},"object"==typeof n&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.VueTheMask=o():a.VueTheMask=o()},{}],2:[function(e,t,n){"use strict";jQuery(document).ready(function(e){e(".owl-carousel-shop").owlCarousel({items:1,loop:!0,dots:!0})})},{}],3:[function(e,t,n){"use strict";jQuery(document).ready(function(e){jQuery("input.jquery-mask").mask("+7 (999) 999-99-99");var t=e(".wpcf7"),n="";t.on("wpcf7spam",function(t){e(t.currentTarget).find(".wpcf7-submit").removeAttr("disabled").attr("value",n).css("opacity","1")}),t.on("wpcf7invalid",function(t){e(t.currentTarget).find(".wpcf7-submit").removeAttr("disabled").attr("value",n).css("opacity","1")}),t.on("wpcf7mailsent",function(t){e(t.currentTarget).find(".wpcf7-submit").attr("disabled","disabled").attr("value","Отправлено!").css("opacity",".5")}),t.on("wpcf7mailfailed",function(){alert("При отправке произошла ошибка! Попробуйте позже!")}),t.submit(function(t){var a=e(t.currentTarget).find(".wpcf7-submit");n=a.attr("value"),a.attr("disabled","disabled").attr("value","Отправляю...").css("opacity",".5"),"wpcf7-f8272-o1"==e(t.currentTarget).attr("id")&&setTimeout(function(){a.attr("disabled","disabled").attr("value","Отправлено!").css("opacity",".5")},5e3)})})},{}],4:[function(e,t,n){"use strict";var a=e("./lockScroll.js");e("./wishlist.js"),e("./smoothScroll.js"),e("./carouselSetup.js"),e("./newsLoad.js"),e("./reviewsLoad.js"),e("./menu-and-sidebar-mobile.js"),e("./emailProcess.js"),e("./lazyLoadImg.js"),window.bodyScrollTop=null,window.locked=!1,jQuery(document).ready(function(e){e(".back-call-button").click(function(){e(".back-call").removeClass("back-call_hidden"),(0,a.lockScroll)(),e(".wpcf7-form-control").first().focus()}),e("#back-call-close").click(function(){e(".back-call").addClass("back-call_hidden"),(0,a.unlockScroll)()}),e(".back-call__overlay").click(function(){e(".back-call").addClass("back-call_hidden"),(0,a.unlockScroll)()}),e(".gift-button").click(function(){e(".gift").removeClass("gift_hidden"),(0,a.lockScroll)(),e(".wpcf7-form-control").first().focus()}),e("#gift-close").click(function(){e(".gift").addClass("gift_hidden"),(0,a.unlockScroll)()}),e(".gift__overlay").click(function(){e(".gift").addClass("gift_hidden"),(0,a.unlockScroll)()}),e.get("https://api.instagram.com/v1/users/self/media/recent?access_token=1394200939.40e3dbc.2f76b2ef9a9a47dfb4095cb75908abb1",function(t){var n=t.data,a=(n=n.slice(0,9)).map(function(e){return{url:e.images.standard_resolution.url,link:e.link}}),o="";a.forEach(function(e){o+='<a class="instagram__photo" href="'+e.link+'"><img src="'+e.url+'"></a>'}),e(".instagram__photos").html(o)}),e(".dropdown-button").click(function(){var t=e(this).next(".dropdown-menu");t.hasClass("dropdown-menu_hidden")?t.removeClass("dropdown-menu_hidden"):t.addClass("dropdown-menu_hidden")}),e(".form-review__photo").change(function(){e(".form-review__file-text").html("Загружено!")});jQuery(".variations_form").data("product_variations");jQuery(".variation-input-label").click(function(e){jQuery(this).data("id");var t=jQuery(this).data("price");jQuery(".summary>.price").html(t);var n=jQuery(this).attr("for"),a=jQuery(this).data("id");jQuery(".value>select option[value="+n+"]").attr("selected",!0).trigger("change"),jQuery(".variation_id").attr("value",a)}),e(".categories-block").viewportChecker({classToAdd:"reveal"}),e(".stocks").viewportChecker({classToAdd:"reveal"}),e(".video-advices-wrapper").viewportChecker({classToAdd:"reveal"}),e(".article-recipe-wrapper").viewportChecker({classToAdd:"reveal"})})},{"./carouselSetup.js":2,"./emailProcess.js":3,"./lazyLoadImg.js":5,"./lockScroll.js":6,"./menu-and-sidebar-mobile.js":8,"./newsLoad.js":9,"./reviewsLoad.js":11,"./smoothScroll.js":12,"./wishlist.js":13}],5:[function(e,t,n){"use strict";window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){var e,t=document.getElementsByClassName("progressive replace");function n(t){e=e||setTimeout(function(){e=null,requestAnimationFrame(a)},300)}function a(){for(var e,n,a=window.pageYOffset,r=a+window.innerHeight,i=0;i<t.length;)a<(n=a+(e=t[i].getBoundingClientRect()).top)+e.height&&r>n?(o(t[i]),t[i].classList.remove("replace")):i++}function o(e){if(e&&e.href){var t=new Image;e.dataset&&(t.srcset=e.dataset.srcset||"",t.sizes=e.dataset.sizes||""),t.src=e.href,t.className="reveal",t.complete?n():t.onload=n}function n(){e.addEventListener("click",function(e){e.preventDefault()},!1),e.appendChild(t).addEventListener("animationend",function(t){var n=e.querySelector&&e.querySelector("img.preview");n&&(t.target.alt=n.alt||"",e.removeChild(n),t.target.classList.remove("reveal"))})}}window.addEventListener("scroll",n,!1),window.addEventListener("resize",n,!1),a()},!1)},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.lockScroll=function(){window.locked||(window.bodyScrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,document.getElementsByTagName("body")[0].classList.add("scroll-locked"),document.getElementsByTagName("body")[0].style.top="-"+bodyScrollTop+"px",locked=!0)},n.unlockScroll=function(){window.locked&&(document.getElementsByTagName("body")[0].classList.remove("scroll-locked"),document.getElementsByTagName("body")[0].style.top=null,window.scrollTo(0,window.bodyScrollTop),locked=!1)}},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("./pdfFileBody"),r=(a=o)&&a.__esModule?a:{default:a};n.default=function(){var e={info:{title:"Заказ на сайте Varka",author:"Varka",subject:"Заказ"},pageSize:"A4",pageOrientation:"portrait",pageMargins:[50,50,50,50],header:function(e,t){return{text:"Заказ на сайте Varka, "+t+" стр.",alignment:"center",margin:[0,10,0,0]}},content:[{table:{widths:[20,100,"*",40,100],body:(0,r.default)(),headerRows:0}},{text:"Контакты: 8 (914) 792-77-75, info@varka25.ru",margin:[30,50,0,0]}]};return pdfMake.createPdf(e)}},{"./pdfFileBody":10}],8:[function(e,t,n){"use strict";var a=e("./lockScroll.js");jQuery(document).ready(function(e){var t=e(".mobile-menu"),n=e(".menu__button"),o=n.find("svg:first-child"),r=n.find("svg:last-child"),i=e(".sidebar_tablets"),s=e(".catalog-filters-button"),c=s.find("svg:first-child"),l=s.find("svg:last-child");n.click(function(){t.hasClass("mobile-menu_hidden")?(o.addClass("animate"),r.addClass("animate"),e(".inf-modal").hasClass("inf-modal_hidden")||e(".inf-modal").addClass("inf-modal_hidden"),i.hasClass("sidebar_tablets_hidden")||(i.addClass("sidebar_tablets_hidden"),c.removeClass("animate"),l.removeClass("animate")),t.removeClass("mobile-menu_hidden"),(0,a.lockScroll)()):(r.removeClass("animate"),o.removeClass("animate"),t.addClass("mobile-menu_hidden"),(0,a.unlockScroll)())}),s.click(function(){i.hasClass("sidebar_tablets_hidden")?(c.addClass("animate"),l.addClass("animate"),t.hasClass("mobile-menu_hidden")||(t.addClass("mobile-menu_hidden"),r.removeClass("animate"),o.removeClass("animate"),(0,a.unlockScroll)()),i.removeClass("sidebar_tablets_hidden")):(c.removeClass("animate"),l.removeClass("animate"),i.addClass("sidebar_tablets_hidden"))})})},{"./lockScroll.js":6}],9:[function(e,t,n){"use strict";jQuery(document).ready(function(e){var t=e(".blog__button");t.click(function(){var n=e(this).data("total-pages"),a=e(this).data("current-page")+1,o=e(this).data("query"),r={action:"load_news",page:a,query:o};t.text("Загрузка..").attr("disabled","disabled"),jQuery.post("/wp-admin/admin-ajax.php",r,function(e){e=JSON.parse(e);var o=jQuery(e.newsHtml);jQuery(".blog-items").append(o),t.attr("data-current-page",a),t.data("current-page",a),t.text("Показать ещё").removeAttr("disabled"),t.data("current-page")==n&&t.hide()})})})},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var e=[],t=JSON.parse(localStorage.getItem("wishlist"));return e.push(["№","Артикул","Название","Кол-во","Цена (шт)"]),t.forEach(function(t,n){var a=t.name;t.variation&&(a+=" ("+t.variation+")"),e.push([n+1,t.sku,a,t.count,t.price])}),e}},{}],11:[function(e,t,n){"use strict";jQuery(document).ready(function(e){var t=e(".all-review__button");t.click(function(){t.text("Загрузка..").attr("disabled","disabled"),e.post("/wp-admin/admin-ajax.php",{action:"load_reviews"},function(n){n=JSON.parse(n);var a=e(n.html);e(".all-review__items").html(a),t.hide()})})})},{}],12:[function(e,t,n){"use strict";jQuery(document).ready(function(e){if(window.location.hash){var t=e(window.location.hash);if((t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length){event.preventDefault();var n=t.offset().top-150;e("html, body").animate({scrollTop:n},1e3)}}e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=e(this.hash);if((n=n.length?n:e("[name="+this.hash.slice(1)+"]")).length){t.preventDefault();var a=n.offset().top-150;e("html, body").animate({scrollTop:a},1e3)}}})})},{}],13:[function(e,t,n){"use strict";var a=i(e("vue-the-mask")),o=i(e("./makePdfFile.js")),r=e("./lockScroll.js");function i(e){return e&&e.__esModule?e:{default:e}}Vue.use(a.default);var s=JSON.parse(localStorage.getItem("wishlist"));new Vue({el:"#vue-wishlist",data:{products:s,form:!1,orderFileBase64:"",person:{name:"",email:"",phone:""},button:{text:"Отправить",block:!1}},methods:{showForm:function(){this.products.length?(this.form=!0,(0,r.lockScroll)(),(0,o.default)().getBase64(this.getBuffer)):alert("Добавьте товары!")},downloadPdf:function(){this.products.length?(0,o.default)().download("order.pdf"):alert("Добавьте товары!")},deleteItem:function(e,t){this.products.splice(t,1),localStorage.setItem("wishlist",JSON.stringify(this.products))},closeForm:function(){this.form=!1,(0,r.unlockScroll)()},sendOrder:function(){if(this.products.length){this.button.text="Отправляю..",this.button.block=!0;var e={action:"mail_order",fileContent:this.orderFileBase64,name:this.person.name,email:this.person.email,phone:this.person.phone};jQuery.post("/wp-admin/admin-ajax.php",e,this.checkResponse)}},checkResponse:function(e){e=JSON.parse(e),console.log(e);var t=e.message;"success"==t?(this.button.text="Отправлено!",setTimeout(this.closeForm,3e3)):(alert("Что-то пошло не так! Попробуйте позже. "+t),this.closeForm())},getBuffer:function(e){this.orderFileBase64=e}}}),Vue.component("button-wishlist",{props:["productId","productImage","productName","productLink","productSku","productPrice","productArray"],template:'\n        <button class="add-in-storage" @click="productAction">\n            <div class="add-in-storage__heart">\n                <svg :class="{animate: liked}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51.997 51.997">\n                  <path d="M51.911 16.242c-.759-8.354-6.672-14.415-14.072-14.415-4.93 0-9.444 2.653-11.984 6.905-2.517-4.307-6.846-6.906-11.697-6.906C6.759 1.826.845 7.887.087 16.241c-.06.369-.306 2.311.442 5.478 1.078 4.568 3.568 8.723 7.199 12.013l18.115 16.439 18.426-16.438c3.631-3.291 6.121-7.445 7.199-12.014.748-3.166.502-5.108.443-5.477zm-2.39 5.019c-.984 4.172-3.265 7.973-6.59 10.985L25.855 47.481 9.072 32.25c-3.331-3.018-5.611-6.818-6.596-10.99-.708-2.997-.417-4.69-.416-4.701l.015-.101c.65-7.319 5.731-12.632 12.083-12.632 4.687 0 8.813 2.88 10.771 7.515l.921 2.183.921-2.183c1.927-4.564 6.271-7.514 11.069-7.514 6.351 0 11.433 5.313 12.096 12.727.002.016.293 1.71-.415 4.707z"/>\n                </svg>\n                <svg :class="{animate: liked}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">\n                  <path d="M24.85 10.126c2.018-4.783 6.628-8.125 11.99-8.125 7.223 0 12.425 6.179 13.079 13.543 0 0 .353 1.828-.424 5.119-1.058 4.482-3.545 8.464-6.898 11.503L24.85 48 7.402 32.165c-3.353-3.038-5.84-7.021-6.898-11.503-.777-3.291-.424-5.119-.424-5.119C.734 8.179 5.936 2 13.159 2c5.363 0 9.673 3.343 11.691 8.126z" fill="#d75a4a"/>\n                </svg>\n            </div>\n            <span>Wishlist</span>\n        </button>\n    ',created:function(){},methods:{productAction:function(){if(this.liked)this.$emit("remove-product",this.productId);else{var e={id:this.productId,image:this.productImage,name:this.productName,link:this.productLink,sku:this.productSku,price:this.productPrice},t=jQuery('input[type="number"]').val();e.count=t;var n=jQuery('input.variation-input[type="radio"]:checked + label p').text();if(n){var a=jQuery(".product_meta .sku").text(),o=jQuery("p.price").text();o=o.replace(/\D/gi,function(){return""}),e.variation=n,e.sku=a,e.price=o}console.log(e),this.$emit("add-product",e)}}},computed:{liked:function(){var e=this,t=!1;return this.productArray.forEach(function(n){n.id==e.productId&&(t=!0)}),t}}}),new Vue({el:".add-in-storage-container",data:{products:s},created:function(){null==localStorage.getItem("wishlist")&&(this.products=[],localStorage.setItem("wishlist",JSON.stringify(this.products)))},methods:{add:function(e){console.log("add product"),this.products.push(e),console.log(this.products)},remove:function(e){var t=this;console.log("remove product"),this.products.forEach(function(n,a){n.id==e&&t.products.splice(a,1)}),console.log(this.products)}},watch:{products:function(e){localStorage.setItem("wishlist",JSON.stringify(e)),console.log("local storage изменился"),console.log(localStorage)}}}),new Vue({el:"#menu-menu2",data:{products:s},computed:{count:function(){return this.products.length}}}),new Vue({el:"#menu-menu2-1",data:{products:s},computed:{count:function(){return this.products.length}}})},{"./lockScroll.js":6,"./makePdfFile.js":7,"vue-the-mask":1}]},{},[4]);
//# sourceMappingURL=bundle.js.map
